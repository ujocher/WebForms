<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<style>

.mydiv {
  padding-top: 2px;
  background-color: white;
  cursor: pointer;
  font-size: medium;
}
.myhr {
  border-color: white;
}

.mypwd {
  padding-left: 20px;
  padding-right: 20px;
}  

.pwdfield {
  padding-left: 20px;
  padding-right: 20px;
  padding-top: 6px;
  padding-bottom: 6px;
  vertical-align: middle;

.pwdlabel }
  vertical-align: middle;
  padding-right: 20px;
}
  
.msportalfx-svg-c14 {
    fill: #7fba00;
}

.mytab1 table,td {
  border: 0px solid black;
  border-collapse: collapse;
}

</style>


<script>

var users = ["User001", "User002", "User003", "User004", "User005", 
             "User006", "User007", "User008", "User009", "User010", 
			 "User011", "User012", "User013", "User014", "User015" ];
			 
			 
function fun001(me) {
  var id = me.id;
  var str = "#" + id;
//  console.log("ID: " + id);
  $(str).css("background-color", "#cccccc");
}

function fun002(me) {
  var id = me.id;
  var str = "#" + id;
//  console.log("ID: " + id);
  $(str).css("background-color", "white");
}

function fun003(me) {
  var id = me.id;
  var str = "#" + id;
  console.log("ID: " + id);
  console.log("clicked " + id);
  var str = '<h2 style="font-size: medium;">' + id + '</h2>';
  $("#f001").show();
  $("#change").html(str);
}

function renderList(id, list) {
  var str = "";
  id = "#" + id;
  for(var i = 0; i < list.length;i++) {
    str += '<div class="mydiv" id="' + list[i] + '" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >' + list[i] + '<hr class="myhr"></div>'
  }
  $(id).html(str)  
}

$(document).ready(function(){
  var body = '$!{variables.body}';
//  var body = '<Password Reset> <<["ujocher001", "cschnorr001"] >>'
  var j = body.replace(/.*<<(.*)>>.*/, '$1');		  
  var jj = JSON.parse(j);
  var arr=[];
  for(var i = 0; i < jj.length; i++) {
    arr.push(jj[i]);
  }
  renderList("users", arr);
});

var myerror = '<svg viewBox="0 0 16 16" focusable="false"><path class="msportalfx-svg-c14" d="M0.632,8.853L0.101,8.278C-0.037,8.126-0.037,7.885,0.123,7.74l1.534-1.418 c0.073-0.066,0.16-0.101,0.255-0.101c0.108,0,0.204,0.044,0.276,0.123l4.218,4.523l7.258-9.296c0.073-0.094,0.182-0.145,0.298-0.145 c0.088,0,0.167,0.029,0.233,0.081l1.659,1.28c0.081,0.059,0.13,0.145,0.145,0.248c0.007,0.101-0.015,0.204-0.081,0.276L6.595,15.246 L0.632,8.853z"></path></svg>'

var myok= '<svg viewBox="0 0 16 16" focusable="false"><path class="msportalfx-svg-c14" d="M0.632,8.853L0.101,8.278C-0.037,8.126-0.037,7.885,0.123,7.74l1.534-1.418 c0.073-0.066,0.16-0.101,0.255-0.101c0.108,0,0.204,0.044,0.276,0.123l4.218,4.523l7.258-9.296c0.073-0.094,0.182-0.145,0.298-0.145 c0.088,0,0.167,0.029,0.233,0.081l1.659,1.28c0.081,0.059,0.13,0.145,0.145,0.248c0.007,0.101-0.015,0.204-0.081,0.276L6.595,15.246 L0.632,8.853z"></path></svg>'

</script>



<table>
  <tr><td colspan="3" sytle="height: 50px">&nbsp;</td><tr>
  <td style="padding-left: 30px">&nbsp;</td>
  <td style="background-color: white; padding-left: 5px; height: 100px">
    <div id="users" style="overflow: -moz-scrollbars-vertical; overflow-y: scroll; width: 200px; height: 300px; padding-top: 5px; border: 1px solid black;">
    <div class="mydiv" id="User001" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User001<hr class="myhr"></div>
    <div class="mydiv"  id="User002" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User002<hr class="myhr"></div>
    <div class="mydiv"  id="User003" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User003<hr class="myhr"></div>
    <div class="mydiv"  id="User004" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User004<hr class="myhr"></div>
    <div class="mydiv"  id="User005" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User005<hr class="myhr"></div>
    <div class="mydiv"  id="User006" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User006<hr class="myhr"></div>
    <div class="mydiv"  id="User007" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User007<hr class="myhr"></div>
    <div class="mydiv"  id="User008" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User008<hr class="myhr"></div>
    <div class="mydiv"  id="User009" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User009<hr class="myhr"></div>
    <div class="mydiv"  id="User010" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User010<hr class="myhr"></div>
    <div class="mydiv"  id="User011" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User011<hr class="myhr"></div>
    <div class="mydiv"  id="User012" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User012<hr class="myhr"></div>
    <div class="mydiv"  id="User013" onmouseenter="fun001(this)" onmouseleave="fun002(this)" onclick="fun003(this)" >User013<hr class="myhr"></div>
    </div>
  </td>
<td style="vertical-align: top; width: 400" id="f001" hidden >
<!--  <div id="change1"">
    <center><h2>Change password<h2></center>
  </div>	-->
  <div id="change" class="mypwd"></div>
  <table class="mytab1">
  <tr><td colspan="2"><hr></td></tr>
  <tr>
  <td style="vertical align :center"><div class="pwdfield"><label for="pwd1" class="pwdlabel" >New Password</label></div></td>
  <td><input type="password" id="pwd1" size="15" name="Password1"/><span id="pwd1check"/></td>
  </tr><tr>
  <td><div class="pwdfield"><label for="pwd2" style="padding-right: 20px">Repeat Password</label></div></td>
  <td><input type="password" id="pwd2" size="15" name="Password2"/><span id="pwd1check"></span></td>
  </tr><tr><td colspan="2"><hr></td></tr><tr>
  <td style="padding-top: 10px;padding-bottom: 10px"><label for="rpwd" style="padding-right: 10px;padding-left: 10px">Create Random Password</label></td>
  <td style="padding-top: 10px;padding-bottom: 10px"><button id="rpwd">R</button></td>
  </tr><tr><td colspan="2"><hr></td></tr>
  </table>
  <div>
  <center style="padding-top: 30px;"><button id="rpwd"><b>Set Password</b></button></center>
  </div>
</td>
</tr>
</table>