<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script language="JavaScript" type="text/javascript">
    $(window).load(function() {
        $(document).on('change', '#subnetManual', function () {
            debugger;
            if ($(this).prop('checked')) {
                $('#subnetPickerDC').attr("disabled", "disabled");
                $('#subnetPickerZone').attr("disabled", "disabled");
                $('#subnetPickerPurpose').attr("disabled", "disabled");
                $('#subnetPicker').removeAttr('disabled');
            } else {
                $('#subnetPickerDC').removeAttr('disabled');
                $('#subnetPickerZone').removeAttr('disabled');
                $('#subnetPickerPurpose').removeAttr('disabled');
                $('#subnetPicker').attr("disabled", "disabled");
            }
        });
    });
</script>

<script language="JavaScript" type="text/javascript">
    function myFunction(p1, p2, p3) {

        return p1 * p2;              // The function returns the product of p1 and p2
    }
    $(window).load(function() {
        $(document).on('change', '#subnetPickerDC', function () {
            debugger;
            if ($(this).attr('checked')) {
                $('#subnetPickerDC').attr("disabled", "disabled");
                $('#subnetPickerZone').attr("disabled", "disabled");
                $('#subnetPickerPurpose').attr("disabled", "disabled");
                $('#subnetPicker').removeAttr('disabled');
            } else {
                $('#subnetPickerDC').removeAttr('disabled');
                $('#subnetPickerZone').removeAttr('disabled');
                $('#subnetPickerPurpose').removeAttr('disabled');
                $('#subnetPicker').attr("disabled", "disabled");
            }
        });
    });
</script>
<script>
    var datacenters = '[{"Name":"HAL","DEVsupported":0}, {"Name":"EBL","DEVsupported":1}, {"Name":"GDC","DEVsupported":0}, {"Name":"VDC","DEVsupported":1}]';
    var zones = '[{"Name":"INT"},{"Name":"EXT"}]';
    var purposes = '[{"Name":"APP"},{"Name":"DB"},{"Name":"WEB"},{"Name":"DEV"}]';
    var subnets = '[' +
        '{"Name":"HAL_INT_APP","ID":"10.240.0.0"},' +
        '{"Name":"HAL_EXT_APP","ID":"10.240.64.0"},' +
        '{"Name":"HAL_INT_DB","ID":"10.240.1.0"},' +
        '{"Name":"HAL_EXT_DB","ID":"10.240.65.0"},' +
        '{"Name":"HAL_INT_WEB","ID":"10.240.2.0"},' +
        '{"Name":"HAL_EXT_WEB","ID":"10.240.66.0"},' +
        '{"Name":"EBL_INT_APP","ID":"10.240.127.0"},' +
        '{"Name":"EBL_EXT_APP","ID":"10.240.191.0"},' +
        '{"Name":"EBL_INT_DB","ID":"10.240.128.0"},' +
        '{"Name":"EBL_EXT_DB","ID":"10.240.192.0"},' +
        '{"Name":"EBL_INT_WEB","ID":"10.240.129.0"},' +
        '{"Name":"EBL_EXT_WEB","ID":"10.240.193.0"},' +
        '{"Name":"EBL_INT_DEV","ID":"10.240.130.0"},' +
        '{"Name":"EBL_EXT_DEV","ID":"10.240.194.0"}' +
//        '{"Name":"GDC_INT_APP","ID":"10.185.0.0"},' +
//        '{"Name":"GDC_EXT_APP","ID":"10.185.64.0"},' +
//        '{"Name":"GDC_INT_DB","ID":"10.185.1.0"},' +
//        '{"Name":"GDC_EXT_DB","ID":"10.185.65.0"},' +
//        '{"Name":"GDC_INT_WEB","ID":"10.185.2.0"},' +
//        '{"Name":"GDC_EXT_WEB","ID":"10.185.66.0"},' +
//        '{"Name":"VDC_INT_APP","ID":"10.185.127.0"},' +
//        '{"Name":"VDC_EXT_APP","ID":"10.185.191.0"},' +
//        '{"Name":"VDC_INT_DB","ID":"10.185.128.0"},' +
//        '{"Name":"VDC_EXT_DB","ID":"10.185.192.0"},' +
//        '{"Name":"VDC_INT_WEB","ID":"10.185.129.0"},' +
//        '{"Name":"VDC_EXT_WEB","ID":"10.185.193.0"},' +
//        '{"Name":"VDC_INT_DEV","ID":"10.185.130.0"},' +
//        '{"Name":"VDC_EXT_DEV","ID":"10.185.194.0"}' +
        ']';
    var subnetsJSON = JSON.parse(subnets);
    function calcSubnet(){
        var dcSelected =$("#subnetPickerDC").val();
        var zoneSelected =$("#subnetPickerZone").val();
        var purposeSelected =$("#subnetPickerPurpose").val();
        var subnetName = dcSelected + "_" + zoneSelected + "_" + purposeSelected;
        for (var i = 0; i < subnetsJSON.length; i++) {
            if(subnetsJSON[i]["Name"] == subnetName)
            {
                var subnetDisplayName = subnetsJSON[i]["Name"] + ' ' + subnetsJSON[i]["ID"];
                $('#subnetPicker').val(subnetsJSON[i]["ID"]);
                $('#subnetDescr').val(subnetsJSON[i]["Name"]);
                break;
            }
        }
    }
</script>

<script>

    function addHostnamesFields(){
        var sameHostnames = document.getElementById("sameHostname").value;
        var number;
        if(sameHostnames == 1){
            number = 1;
        } else{
            number = document.getElementById("ipNumber").value;
        }
        var maxNumber = 5;

        //alert(number);
        var inputName;
        var elementName;
        var element;
        for (var i=0;i<maxNumber;i++){

            inputName = "hostname" + i;
            elementName = "#" + inputName;

            if($(elementName).length == 0){
                if(i<number){
                    var input = document.createElement("input");
                    input.id = inputName;
                    input.type = "text";
                    container.appendChild(input);
                    container.appendChild(document.createElement("br"));
                }
            }
            else {
                if(i>=number){
                    $(elementName).remove();
                }
            }

        }
    }
</script>

<body onload="calcSubnet();addHostnamesFields();">


<div>
    Datacenter: <select name="Datacenter" id="subnetPickerDC" onchange="calcSubnet()">
        <option value="HAL">HAL</option>
        <option value="EBL">EBL</option>
        <option value="GDC">GDC</option>
        <option value="VDC">VDC</option>
    </select>
</div>

<div>
    Zone: <select name="Zone" id="subnetPickerZone" onchange="calcSubnet()">
        <option value="EXT">EXT</option>
        <option value="INT">INT</option>
    </select>
</div>
<div>
    Purpose: <select name="Purpose" id="subnetPickerPurpose" onchange="calcSubnet()">
        <option value="APP">APP</option>
        <option value="DB">DB</option>
        <option value="WEB">WEB</option>
    </select>
</div>

<div>
    <input type ="checkbox" id="subnetManual"><span>Specify Subnet manually</span>

</div>
<div>
    Subnet: <input type="text"  id="subnetDescr" disabled="disabled" STYLE="background-color: #ffffff;">
    <input type="text"  id="subnetPicker" disabled="disabled">
</div>


<div>
    Reserve IPs for same hostname?<select name="sameHostname" id="sameHostname" onchange="addHostnamesFields()">
    <option value=1>Yes</option>
    <option value=0>No</option>
</select>
</div>
<div>
    Number of IP addresses: <select name="ipNumber" id="ipNumber" onchange="addHostnamesFields()">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
</select>

</div>

    Hostnames:<br />
    <div id="container" />


</body>
</html>